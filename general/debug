from general.config import ListValueConvertor, config
from general.fileutil import test_file_exists

def init_config():
    config.register('debug', 'enabled_loggers', ListValueConvertor)
init_config()

def load_debug_config():
    filename = test_file_exists(config.get('debug', 'config_filename'))
    if not filename: 
        return
    enabled_loggers = config.get('debug', 'enabled_loggers')
    with open(filename, mode='r') as file:
        for l in file.readlines():
            if l and l[0] == '#':
                continue
            l = l.strip()
            if l:
                enabled_loggers.append(l)
    config.set('debug', 'enabled_loggers', enabled_loggers)

